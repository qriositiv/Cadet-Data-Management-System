<div class="results-table-container bg-white my-4 p-4 md:p-6 rounded-lg shadow-lg w-full mx-auto">
  <h2 class="text-lg md:text-2xl font-bold md:mb-4 mb-2 text-center">Disciplinų Rezultatai</h2>

  <!-- User Information and Result Summary -->
  <div class="md:mb-4 mb-2 flex flex-col md:flex-row justify-between text-sm md:text-base">
    <p class="text-left">
      {{ user.name }}, {{ user.sex }}, {{ user.age }} m.
    </p>
    <div>
      @if (resultsBelowMinimum > 0) {
        <p class="text-red-500 flex items-center"><i class="fa-regular fa-circle-xmark mr-1"></i>Blogų rezultatų: {{ resultsBelowMinimum }}</p>
      } @else {
        <p class="text-green-500 flex items-center"><i class="fa-regular fa-circle-check mr-1"></i>Visi normativai išlaikyti</p>
      }
    </div>
  </div>

  <!-- Results Table -->
  <div class="overflow-x-auto">
    <table class="w-full border-collapse border border-gray-300 text-xs md:text-sm">
      <thead>
        <tr class="bg-gray-200">
          <th class="border border-gray-300 p-2 text-left">Disciplina</th>
          <th class="border border-gray-300 p-2 text-left">Rezultatas</th>
          <th class="border border-gray-300 p-2 text-left">Kontrolinė</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let discipline of disciplines" class="hover:bg-gray-100">
          <td class="border border-gray-300 p-2">{{ discipline.name }}</td>
          <td
            class="border border-gray-300 p-2"
            [ngClass]="{
              'text-green-500': (discipline.needsMore && discipline.result >= discipline.control) || (!discipline.needsMore && discipline.result <= discipline.control),
              'text-red-500': (discipline.needsMore && discipline.result < discipline.control) || (!discipline.needsMore && discipline.result > discipline.control)
            }"
          >
            {{ discipline.result }}
          </td>
          <td class="border border-gray-300 p-2">{{ discipline.control }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Notes Section -->
  <div class="mt-2">
    <p class="text-xs md:text-sm">
      Kontrolinės vertės yra pagrįstos jūsų amžiaus grupės (22-25 metų amžiaus) tikslais. Visą lentelę galite rasti
      <a href="#" class="underline text-rose-500 hover:text-rose-600">čia</a>.
    </p>
  </div>
</div>
